---
title: "Mini-Project 2"
author: "Thao Phan & Asmita Gautam"
date: "March 24, 2017"
output: html_document
---


## Loading the data
## save changes, I pull & commit, Asmita will push.

```{r, warning=FALSE, message=FALSE}
install.packages( c("shiny", "htmlwidgets"))
library(dplyr)
library(ggplot2)
library(tidyr)
library(tidyverse)
library(shiny)
library(htmlwidgets)
load("house_elections.rda")
load("candidates.rda")
load("committees.rda")
load("contributions.rda")
```

```{r}
house_elections
#glimpse(house_elections)
#head(house_elections)

party_affiliation <- house_elections %>%
  filter( party == c("D", "R") )%>%
  filter( state == c("CA", "TX", "NY", "FL", "PA", "IL", "OH", "MI", "GA", "NC", "NJ" )) %>%
  group_by(party, state) %>%
  summarise( n = n() )

party_affiliation

ggplot(data = party_affiliation, aes(x = state, y = n, fill = party, width = .5)) +
  geom_bar(stat = "identity", position = position_dodge()) +
  theme_minimal() +
  ggtitle("Are there more Democrats or Republicans running for House Elections?") +
  scale_fill_manual(values = alpha(c("steelblue2", "indianred2")))

# In the chart above, we analyzed the political party affiliations of the 2011-2012 Massachusetts House of Representative candidates. What we found was that out of the 32 candidates during the 2011-2012 cycle, the majority of them were either part of the Democratic or Republican party. This makes sense because the United States politics is dominated by a two-party system in which the Democrats and Republicans are the most popular. In Massachusetts, besides those 2 parties, some House candidates were in the Independent or Libertarian parties as well; however, they made up only 4 out of the 32 candidates. 

```






```{r}
glimpse(contributions)
```


```{r, warning=FALSE, message=FALSE}
cand1 <- candidates %>%
  filter(cand_election_yr == c(2010, 2012)) %>%
  filter(cand_party_affiliation == c("DEM", "REP")) %>%
  filter(cand_office_state == c("CA", "TX", "NY", "FL", "PA", "IL", "OH", "MI", "GA", "NC", "NJ")) %>%
  group_by(cand_party_affiliation, cand_office_state) %>%
  summarise( n = n())
cand1 <- cand1[-c(1,2,3),]
```

```{r}
ggplot( cand1, aes(x = cand_office_state, y = n, fill = cand_party_affiliation, width = .5)) +
  geom_bar(stat = "identity", position = position_dodge()) +
  theme_minimal() +
  ggtitle("Candidates in Top Ten Electoral Vote States") +
  scale_fill_manual(values = alpha(c("steelblue2", "indianred2")))
```

```{r, warning=FALSE, message=FALSE}
com1 <- committees %>%
  filter(cmte_party_affiliation == c("DEM", "REP")) %>%
  filter(cmte_state == c("CA", "TX", "NY", "FL", "PA", "IL", "OH", "MI", "GA", "NC", "NJ")) %>%
  group_by(cmte_party_affiliation, cmte_state) %>%
  summarise( n = n())
```

```{r}
ggplot( com1, aes(x = cmte_state, y = n, fill = cmte_party_affiliation, width = .5)) +
  geom_bar(stat = "identity", position = position_dodge()) +
  theme_minimal() +
  ggtitle("Committees in Top Ten Electoral Vote States") +
  scale_fill_manual(values = alpha(c("steelblue2", "indianred2")))
```

